## alban.andrieu.logstash-settings

[![Travis CI](http://img.shields.io/travis/AlbanAndrieu/ansible-logstash-settings.svg?style=flat)](http://travis-ci.org/AlbanAndrieu/ansible-logstash-settings) [![Branch](http://img.shields.io/github/tag/AlbanAndrieu/ansible-logstash-settings.svg?style=flat-square)](https://github.com/AlbanAndrieu/ansible-logstash-settings/tree/master) [![Donate](https://img.shields.io/gratipay/AlbanAndrieu.svg?style=flat)](https://www.gratipay.com/AlbanAndrieu)  [![Ansible Galaxy](http://img.shields.io/badge/galaxy-alban.andrieu.logstashsettings-blue.svg?style=flat)](https://galaxy.ansible.com/list#/roles/3083) [![Platforms](http://img.shields.io/badge/platforms-ubuntu-lightgrey.svg?style=flat)](#)

Ensures that logstash is properly installed and configured on `Ubuntu` using `Ansible` script.
This ``Simple`` role allows you to configure [Logstash](http://www.elasticsearch.org/overview/logstash/) with basic configuration.

Goal of this role is to gather as much logstash scripts as possible.
So do not hesitate to add your own and to contribute.

Note that this role installs a syslog grok pattern by default; if you want to add more filters, please add them inside the `/etc/logstash/conf.d/` directory. As an example, you could create a file named `13-myapp.conf` with the appropriate grok filter and restart logstash to start using it. Test your grok regex using the [Grok Debugger](http://grokdebug.herokuapp.com/).

###Requirements

Though other methods are possible, this role is made to work with Elasticsearch as a backend for storing log messages.

### Installation

This role requires at least Ansible `v1.6.3`. 

To install it, run:

    ansible-galaxy install alban.andrieu.logstash-settings

### Role dependencies

- `geerlingguy.logstash`

### Role variables

List of default variables available in the inventory:

```yaml
        ---
    logstash_monitor_local_syslog: yes
    logstash_monitor_jenkins_enabled: no
    logstash_monitor_nexus_enabled: no
    logstash_monitor_apache_enabled: no
    logstash_monitor_nginx_enabled: no
    logstash_monitor_elasticsearch_enabled: no
    logstash_monitor_miscellaneous_enabled: no
    logstash_monitor_application_enabled: no
    logstash_monitor_log4j_enabled: no
    
    jenkins_home: "/var/lib/jenkins"
    kgr_home: "/thomsonreuters/home/kgr"
```


### Detailed usage guide

Run the following command :

     `ansible-playbook -i hosts -c local -v logstash.yml -vvvv --ask-sudo-pass | tee setup.log`


### Authors and license

`alban.andrieu.logstash-settings` role was written by:
- [Alban Andrieu](fr.linkedin.com/in/nabla/) | [e-mail](mailto:alban.andrieu@free.fr) | [Twitter](https://twitter.com/AlbanAndrieu) | [GitHub](https://github.com/AlbanAndrieu)
- License: [GPLv3](https://tldrlegal.com/license/gnu-general-public-license-v3-%28gpl-3%29)

### Feedback, bug-reports, requests, ...

Are [welcome](https://github.com/AlbanAndrieu/ansible-logstash-settings/issues)!

***

README generated by [Ansigenome](https://github.com/nickjj/ansigenome/).
